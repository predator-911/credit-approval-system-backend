Role: You are a senior backend engineer with strong experience in Django, Django REST Framework, Celery, Redis, PostgreSQL, and Docker.
Build a production-ready backend system following the exact specifications below.

ðŸ“Œ PROJECT OVERVIEW

Create a Credit Approval System backend using Django 4+ and Django REST Framework.
There is NO frontend.
The system must be fully dockerized and run using docker-compose up --build.

ðŸ§± TECH REQUIREMENTS (MANDATORY)

Django 4+

Django REST Framework

PostgreSQL (as primary DB)

Celery + Redis for background tasks

Docker + Docker Compose

Python 3.10+

Clean, modular architecture

No hardcoded secrets (use environment variables)

ðŸ“ PROJECT STRUCTURE (STRICT)
credit_system/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ celery.py
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ serializers.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ tasks.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ credit_score.py
â”‚   â”‚   â”œâ”€â”€ eligibility.py
â”‚   â”‚   â””â”€â”€ emi.py
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ manage.py
â””â”€â”€ README.md

ðŸ—„ DATABASE MODELS

Customer

customer_id (auto)

first_name

last_name

phone_number (unique)

age

monthly_salary

approved_limit

current_debt

Loan

loan_id (auto)

customer (FK)

loan_amount

interest_rate

tenure

monthly_installment

emis_paid_on_time

start_date

end_date

is_active

âš™ï¸ BACKGROUND TASKS

Use Celery + Redis

Ingest data from:

customer_data.xlsx

loan_data.xlsx

Data ingestion MUST run as a background task

Use bulk inserts for performance

ðŸ“Š BUSINESS LOGIC (VERY IMPORTANT)
Approved Credit Limit
approved_limit = round(36 * monthly_salary, -5)

ðŸ’° EMI CALCULATION

Use compound interest formula:

EMI = P * r * (1+r)^n / ((1+r)^n - 1)
where r = annual_rate / (12*100)

ðŸ“ˆ CREDIT SCORE (OUT OF 100)

Calculate credit score using:

Past loans paid on time

Number of loans taken

Loan activity in current year

Loan approved volume

Rules:

If total current loan amount > approved_limit â†’ credit_score = 0

If total current EMIs > 50% of monthly salary â†’ reject loan

ðŸ§  LOAN APPROVAL RULES
Credit Score	Decision
> 50	Approve
30â€“50	Approve only if interest â‰¥ 12%
10â€“30	Approve only if interest â‰¥ 16%
< 10	Reject

If interest rate does NOT match slab:

Return corrected_interest_rate (lowest valid slab)

ðŸ”Œ API ENDPOINTS (EXACT)
POST /register

Create customer

Auto-calculate approved_limit

POST /check-eligibility

Check loan eligibility

Return approval status

Return corrected interest rate if needed

Return calculated EMI always

POST /create-loan

Create loan ONLY if eligible

Update customer current_debt

GET /view-loan/{loan_id}

Return loan + customer details

GET /view-loans/{customer_id}

Return all active loans

Include repayments_left

ðŸ³ DOCKER REQUIREMENTS

Separate services:

web (Django)

db (PostgreSQL)

redis

celery worker

Must run with single docker-compose command

Include .env support

ðŸ“„ README.md MUST INCLUDE

Project overview

Tech stack

Setup instructions

API endpoints summary

Docker run command

âŒ DO NOT

Do NOT include frontend

Do NOT hardcode secrets

Do NOT mix business logic in views

Do NOT rely on SQLite

âœ… FINAL DELIVERABLE

Fully working backend

Clean code

Correct financial logic

Dockerized system

Ready for GitHub submission

ðŸŸ¢ AFTER GENERATION (IMPORTANT)

After generating the project:

Verify EMI & credit score logic

Ensure Docker works

Remove any Replit-specific files

Prepare for GitHub submission